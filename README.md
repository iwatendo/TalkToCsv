# Talk To CSV

オンライン会議のための議事録音サービス（音声認識 ＋ 会話部分だけ録音するサービス）

## クイックスタート

以下の公開サーバーからすぐに試せます。

https://skybeje.net/talktocsv2/chatowner/

- ※デスクトップ版のGoogle Chrome専用のサービスです。
- 音声入力を開始するには「音声認識OFF」の部分をクリックします
- 録音を開始するには、音声認識がONの状態で「録音」にチェックをいれます
- 録音された会話を再生するには、チャットの最後に表示されるスピーカーアイコンをクリックします

## 機能
- **音声認識による会話の記録**
  - 会議に参加しているメンバーの喋った内容がテキスト変換されます。
  - 同時に喋った内容が録音がされ、後から聞き直す事ができます。
  - テキストデータはCSVに出力する事も可能です。
- **ブラウザを小さなチャットサーバーにします**
  - WebRTC(SkyWay)のDataChannelを利用し、ブラウザ間通信を実現しています。
- **データは全てブラウザに保存**
  - チャットデータや録音データは、ブラウザのIndexedDBに保存されます。
  - サーバー側にデータが保存される事はありません。

## 利用方法
- 議事録担当者は、上記URLから「Talk To CSV」を起動
- 議事録担当者は、「招待ULRのコピー」というボタン押します。
- ビデオ通話のチャット等で、URLを会議の参加者に伝えます。
- 参加者は、そのURLから接続します（※接続URLは議事録担当者が「Talk To CSV」を起動する度に変わる事に注意してください）

## 注意事項
- ヘッドセットを使用してないとスピーカーの音声を拾う事があります。
- 喋り出しを検知してから録音を開始する仕組みの為、喋り出した部分は録音されていない事があります。
- 複数のメンバーが同時に喋った場合、その発言は個々に録音されます。参加者の各ブラウザ側で録音し、議事録担当者に送る仕組みとなっています。
- チャット及び録音データは、議事録担当者のブラウザにのみ保存されます。
- 外部のサーバーにデータは一切保存されません。
- 一度クリアしたテキストや録音データは復元する事はできないので注意してください。

## 開発の手引き

- [Node.js](https://nodejs.org/)と[npm](https://www.npmjs.com/)を使用します。
  - `npm install`で、必要なライブラリがインストールされます
  - `npm start`で、デバック用のHTTPServerを起動します
- SkyWayについて
  - このサービスはNTT Communicationsの[SkyWay](https://webrtc.ecl.ntt.com/)を使用します。
  - 詳細については https://webrtc.ecl.ntt.com/ を参照
  - アカウント登録後 [SkyWayのコンソール](https://console-webrtc-free.ecl.ntt.com/)にてAPIKeyを取得します。
  - 自前のWebサーバーに設置する場合は、利用可能ドメインを指定します。
  - 取得したAPIKeyは`./apikey.json`に記述します
  - ( `./apikey.json.template` をコピーして作成します)
- ビルド方法
  - `npm run dev` デバック用のビルドが実行されます。
  - `npm run prod` 本番環境向けのビルドが実行されます。
  - どちらも `dist/`に ビルドされたファイルが生成されます。
- サーバへの設置方法
  - ビルドで`dist/`に生成されたファイルを上記で許可したドメインのWebサーバーにコピーします。